# ============================================
# Docker Compose Environment Configuration
# ============================================
#
# USAGE:
#   1. Copy this file: cp .env.compose.template .env.compose
#   2. Generate secure secrets (see below)
#   3. Update FRONTEND_URL if needed
#   4. Start services: docker-compose up -d
#
# SECURITY:
#   - NEVER commit .env.compose to version control
#   - Generate unique secrets for each environment
#   - Use strong passwords (24+ characters)
#
# GENERATE SECURE SECRETS:
#   JWT_SECRET:         openssl rand -base64 48
#   POSTGRES_PASSWORD:  openssl rand -base64 24
#   REDIS_PASSWORD:     openssl rand -base64 24
#   INFLUXDB_PASSWORD:  openssl rand -base64 24
#   INFLUXDB_TOKEN:     openssl rand -base64 64
#
# ============================================

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3000

# Update this to match your frontend URL
FRONTEND_URL=http://localhost:3030

# Enable mock data for testing (simulates 10 machines)
# Set to 'true' for development/testing, 'false' for production
ENABLE_MOCK_DATA=false

# ============================================
# Authentication
# ============================================
# REQUIRED: Generate with: openssl rand -base64 48
JWT_SECRET=REPLACE_WITH_STRONG_SECRET_48_BYTES

# ============================================
# PostgreSQL Configuration
# ============================================
# Internal Docker service (do not change host/port)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_DB=opcua_dashboard

# REQUIRED: Generate with: openssl rand -base64 24
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# ============================================
# Redis Configuration
# ============================================
# Internal Docker service (do not change host/port)
REDIS_HOST=redis
REDIS_PORT=6379

# REQUIRED: Generate with: openssl rand -base64 24
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# ============================================
# InfluxDB Configuration
# ============================================
# Internal Docker service (do not change URL)
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_ORG=opcua-org
INFLUXDB_BUCKET=machine-data
INFLUXDB_USERNAME=admin

# REQUIRED: Generate with: openssl rand -base64 24
INFLUXDB_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# REQUIRED: Generate with: openssl rand -base64 64
INFLUXDB_TOKEN=REPLACE_WITH_STRONG_TOKEN

# ============================================
# MQTT Broker Configuration
# ============================================
# Internal Docker service (do not change URL)
MQTT_BROKER_URL=mqtt://mosquitto:1883

# Optional: Enable MQTT authentication (recommended for production)
# MQTT_USERNAME=
# MQTT_PASSWORD=

# ============================================
# AWS Services (Optional - not used in Docker Compose mode)
# ============================================
# Uncomment if using AWS services like Cognito or Timestream
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# COGNITO_USER_POOL_ID=
# COGNITO_CLIENT_ID=
# TIMESTREAM_DATABASE=
# TIMESTREAM_TABLE=

# ============================================
# Stripe Integration (Optional)
# ============================================
# Uncomment if using subscription billing
# Use test keys (sk_test_...) for development
# Use live keys (sk_live_...) for production
# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=

# ============================================
# Email Configuration (Optional)
# ============================================
# Uncomment if using email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@yourapp.com
